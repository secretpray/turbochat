<%= turbo_stream_from :rooms %>
<%= turbo_stream_from [current_user, :rooms] %>

<div class="mt-2 mb-3" id='rooms_online_users_count'>
  <%#= render 'rooms/user_online_count', count: Room.online_rooms_users_count %>
</div>

<%= turbo_frame_tag :rooms, class: 'text-center mt-12' do %>
  <%= render partial: "rooms/room", collection: @rooms, locals: { user: current_user } %>
  <%#= render @rooms %>

  <% if current_user&.admin? %>
    <%= form_with model: @new_room, class: "mt-12" do |f| %>
      <div class="flex flex-row justify-center mt-4">
        <%= f.submit "Create room", class: "group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 cursor-pointer basis-1/12" %>
    <% end %>
  <% end %>
<% end %>
